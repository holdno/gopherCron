import{j as P,c as I,u as W,r as x,l as y,m as V,z as p,A as H,o as Z,k as we,q as t,s as e,E as $,f as U,Q as C,w as ee,x as d,N as G,I as D,J as O,F as B,cw as ve,cn as S,cx as ge,cy as ye,t as Q,c3 as q,y as z,cz as ke,cA as xe,bp as te,aI as le,D as oe}from"./index.5d971b20.js";import{Q as T}from"./QInput.74e9a2fd.js";import{Q as ae}from"./QList.39bd7360.js";import{Q as he}from"./QScrollArea.30c0857e.js";import{_ as J}from"./Confirm.7fb64489.js";import{a as E,b as Y,Q as L,n as _e,r as be}from"./QDialog.2e8c48ba.js";import{Q as Ve}from"./QForm.b5daa54b.js";import{C as F}from"./ClosePopup.67c53a88.js";import{b as M,c as N,a as R}from"./QChip.1ea0922e.js";import{Q as se,a as je}from"./QInfiniteScroll.80226cf4.js";import{Q as Ie}from"./QSkeleton.163bb90e.js";import{Q as K}from"./QCardActions.efed708f.js";import{Q as A,b as ue}from"./QSelect.afc6f4d0.js";import{f as re}from"./datetime.561112b0.js";import{t as Ce,b as $e}from"./thumbStyle.856de4cb.js";import"./use-key-composition.54040253.js";import"./focus-manager.3c422c1d.js";import"./touch.efdb263f.js";import"./format.865294d5.js";import"./rtl.b51694b1.js";const ne=P({props:{projectId:{type:Number,required:!0},orgId:{type:String,required:!0},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:u}){const a=l,n=I({get:()=>a.modelValue,set:v=>u("update:modelValue",v)}),c=W(),f=I(()=>c.state.Project.projects.find(v=>v.id===a.projectId)),m=x(!1);async function h(v){m.value=!0;try{c.commit("cleanError"),await c.dispatch("deleteProject",{projectId:v,orgId:a.orgId}),c.state.Root.currentError===void 0&&(n.value=!1)}catch(b){console.error(b),c.commit("error",{error:b})}m.value=!1}return(v,b)=>{var g;return y(),V(J,{modelValue:p(n),"onUpdate:modelValue":b[0]||(b[0]=_=>H(n)?n.value=_:null),content:"\u662F\u5426\u8981\u5220\u9664\u9879\u76EE"+((g=p(f))==null?void 0:g.title)+"?",type:"warning",loading:m.value,onConfirm:b[1]||(b[1]=_=>p(f)&&h(p(f).id))},null,8,["modelValue","content","loading"])}}}),Ee={key:0,class:"text-h6"},Be={key:1,class:"text-h6"},ie=P({props:{projectId:{type:Number,default:0},modelValue:{type:Boolean,default:!1},orgId:{type:String,required:!0}},emits:["update:modelValue"],setup(l,{emit:u}){const a=l,n=I({get:()=>a.modelValue,set:r=>u("update:modelValue",r)}),c=W(),f=I(()=>c.state.Project.projects.find(r=>r.id===a.projectId)),m=I(()=>{const r=f.value;return{title:(r==null?void 0:r.title)||"",remark:(r==null?void 0:r.remark)||""}}),h=x(m.value),v=I(()=>{const r=h.value,k=m.value;return r.title.trim()===k.title.trim()&&r.remark.trim()===k.remark.trim()}),b=I(()=>h.value.title.trim()!==""&&!v.value);Z(()=>{we(()=>{n.value||(h.value=Object.assign({},m.value))})});const g=x(!1);async function _(){g.value=!0;try{const r=h.value;c.commit("cleanError"),a.projectId>0?await c.dispatch("updateProject",{projectId:a.projectId,title:r.title.trim(),remark:r.remark.trim(),orgId:a.orgId}):await c.dispatch("createProject",{orgId:a.orgId,title:r.title.trim(),remark:r.remark.trim()}),c.state.Root.currentError===void 0&&(n.value=!1)}catch(r){console.error(r),c.commit("error",{error:r})}g.value=!1}return(r,k)=>(y(),V(L,{modelValue:p(n),"onUpdate:modelValue":k[2]||(k[2]=j=>H(n)?n.value=j:null),"no-backdrop-dismiss":!p(v)},{default:t(()=>[e(Y,{class:"tw-w-96 q-pa-sm"},{default:t(()=>[e(Ve,{onSubmit:_},{default:t(()=>[e(E,null,{default:t(()=>[p(f)===void 0?(y(),$("div",Ee,"\u521B\u5EFA\u9879\u76EE")):(y(),$("div",Be,"\u7F16\u8F91\u9879\u76EE"))]),_:1}),e(E,null,{default:t(()=>[e(T,{modelValue:h.value.title,"onUpdate:modelValue":k[0]||(k[0]=j=>h.value.title=j),type:"text",label:"\u9879\u76EE\u540D",square:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),e(T,{modelValue:h.value.remark,"onUpdate:modelValue":k[1]||(k[1]=j=>h.value.remark=j),type:"textarea",label:"\u5907\u6CE8",square:"",filled:""},null,8,["modelValue"])]),_:1}),e(E,{align:"right",class:"tw-flex tw-gap-4 tw-flex-col-reverse lg:tw-flex-row lg:tw-justify-end"},{default:t(()=>[U(e(C,{flat:"",label:"\u53D6\u6D88",class:"lg:tw-w-24 tw-w-full"},null,512),[[F]]),e(C,{color:"primary","text-color":"black",type:"submit",label:p(f)===void 0?"\u521B\u5EFA":"\u4FDD\u5B58",disable:!p(b),loading:g.value,class:"lg:tw-w-24 tw-w-full"},null,8,["label","disable","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","no-backdrop-dismiss"]))}});function Ue(l){const u=document.createElement("textarea");u.value=l,u.contentEditable="true",u.style.position="fixed";const a=()=>{};_e(a),document.body.appendChild(u),u.focus(),u.select();const n=document.execCommand("copy");return u.remove(),be(a),n}function Fe(l){return navigator.clipboard!==void 0?navigator.clipboard.writeText(l):new Promise((u,a)=>{const n=Ue(l);n?u(!0):a(n)})}function De(l){return l?l.indexOf("manager")!==-1||l.indexOf("admin")!==-1:!1}function Qe(l){return l.indexOf("admin")!==-1}const de=[{value:"admin",label:"\u7BA1\u7406\u5458"},{value:"manager",label:"\u53EF\u7F16\u8F91"},{value:"user",label:"\u4EC5\u67E5\u770B"}],ce=new Map;de.forEach((l,u,a)=>{ce.set(l.value,l.label)});function Pe(l){return ce.get(l)}const Se=d("div",{class:"text-h6"},"\u9879\u76EE\u6210\u5458\u7BA1\u7406",-1),Ae=B(" \u6DFB\u52A0 "),Te={role:"list",class:"tw-divide-y tw-divide-white/5"},qe={class:"tw-min-w-0 tw-flex-auto"},Me={class:"tw-flex tw-items-center tw-gap-x-3"},Ne=d("div",{class:"flex-none rounded-full p-1"},[d("div",{class:"tw-h-2 tw-w-2 tw-rounded-full tw-bg-current"})],-1),Re={class:"tw-min-w-0 tw-text-sm tw-font-semibold tw-leading-6 tw-text-white"},We={class:"tw-flex tw-gap-x-2"},He={class:"tw-whitespace-nowrap"},Oe=d("span",{class:"tw-text-gray-400"}," - ",-1),Ye={class:"tw-whitespace-nowrap tw-opacity-75"},Le={class:"tw-mt-1 tw-flex tw-items-center tw-gap-x-2.5 tw-text-xs tw-leading-5 tw-text-gray-400"},ze={class:"tw-truncate tw-text-primary"},Ge=d("svg",{viewbox:"0 0 2 2",class:"tw-h-0.5 tw-w-0.5 tw-flex-none tw-fill-gray-300"},[d("circle",{cx:"1",cy:"1",r:"1"})],-1),Je={class:"tw-whitespace-nowrap"},Ke={class:"rounded-full flex-none py-1 px-2 text-xs font-medium ring-1 ring-inset"},Xe=B("\u79FB\u9664"),X=P({props:{projectId:{type:Number,default:0},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:u}){const a=l,n=x("user"),c=I({get:()=>a.modelValue,set:s=>u("update:modelValue",s)}),f=x([]);async function m(){f.value=await ve(S,a.projectId)}ee(()=>[a.projectId,c.value],async([,s])=>{s&&m(),h.value=""});const h=x(""),v=x(!1);async function b(){v.value=!0;try{await ge(S,a.projectId,h.value,n.value),h.value="",await m()}finally{v.value=!1}}const g=x(),_=x(!1);function r(s){g.value=s,_.value=!0}function k(){g.value=void 0,_.value=!1}async function j(s){v.value=!0;try{await ye(S,a.projectId,s.id),await m()}finally{v.value=!1}}return(s,w)=>(y(),V(L,{modelValue:p(c),"onUpdate:modelValue":w[4]||(w[4]=i=>H(c)?c.value=i:null)},{default:t(()=>{var i;return[e(J,{modelValue:_.value,"onUpdate:modelValue":w[0]||(w[0]=o=>_.value=o),type:"warning",content:`\u786E\u5B9A\u8981\u79FB\u9664\u7528\u6237 ${(i=g.value)==null?void 0:i.name} \u5417\uFF1F`,onConfirm:w[1]||(w[1]=o=>g.value&&j(g.value).then(k))},null,8,["modelValue","content"]),e(Y,{class:"tw-w-full tw-mx-6 lg:tw-w-1/2"},{default:t(()=>[e(E,null,{default:t(()=>[Se]),_:1}),e(A),e(E,{class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-2"},{default:t(()=>[e(T,{modelValue:h.value,"onUpdate:modelValue":w[2]||(w[2]=o=>h.value=o),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u5E10\u53F7",dense:"",outlined:"",class:"tw-grow"},null,8,["modelValue"]),e(ue,{modelValue:n.value,"onUpdate:modelValue":w[3]||(w[3]=o=>n.value=o),outlined:"",dense:"",class:"tw-w-full md:tw-w-32","emit-value":"","map-options":"",placeholder:"\u8BF7\u9009\u62E9\u7528\u6237\u6743\u9650",options:p(de)},null,8,["modelValue","options"]),e(C,{loading:v.value,outline:"","text-color":"primary",onClick:b},{default:t(()=>[Ae]),_:1},8,["loading"])]),_:1}),e(A),e(E,{style:{"max-height":"40vh",height:"40vh"},class:"scroll"},{default:t(()=>[e(se,{class:"tw-w-full tw-h-full",offset:100},{default:t(()=>[d("ul",Te,[(y(!0),$(O,null,G(f.value,o=>(y(),$("li",{key:o.id,class:"tw-relative tw-flex tw-items-center tw-space-x-4 tw-py-2"},[d("div",qe,[d("div",Me,[Ne,d("h2",Re,[d("a",We,[d("span",He,D(o.name),1),Oe,d("span",Ye,D(o.permissions&&p(Pe)(o.permissions[0])),1)])])]),d("div",Le,[d("p",ze,D(o.account),1),Ge,d("p",Je,D(p(re)(o.createTime*1e3,"YYYY-MM-DD HH:mm")),1)])]),d("div",Ke,[e(C,{type:"primary",unelevated:"",class:"tw-text-red-500",onClick:fe=>r(o)},{default:t(()=>[Xe]),_:2},1032,["onClick"])])]))),128))])]),_:1})]),_:1}),e(A),e(K,{align:"right"},{default:t(()=>[U(e(C,{flat:"",label:"\u5173\u95ED",color:"primary"},null,512),[[F]])]),_:1})]),_:1})]}),_:1},8,["modelValue"]))}});async function Ze(l){return(await S.post("/webhook/create",{project_id:l.projectId,call_back_url:l.callBackUrl,type:l.type})).data}async function et(l,u){return(await S.post("/webhook/delete",{project_id:l,type:u})).data}async function tt(l){const a=(await S.get("/webhook/list",{params:{project_id:l}})).data,n=a.response?a.response:[],c=[];return n.forEach((f,m)=>{c.push({projectId:f.project_id,type:f.type,callBackUrl:f.callback_url,createTime:f.create_time})}),c}const me=[{value:"task-result",label:"\u6267\u884C\u7ED3\u675F"},{value:"task-failure",label:"\u6267\u884C\u5931\u8D25"}],pe=new Map;me.forEach((l,u,a)=>{pe.set(l.value,l.label)});function lt(l){return pe.get(l)}const ot=d("div",{class:"text-h6"},"WebHook\u7BA1\u7406",-1),at=B(" \u6DFB\u52A0 "),st={role:"list",class:"tw-divide-y tw-divide-white/5"},ut={class:"tw-min-w-0 tw-flex-auto"},rt={class:"tw-flex tw-items-center tw-gap-x-3"},nt=d("div",{class:"flex-none rounded-full p-1"},[d("div",{class:"tw-h-2 tw-w-2 tw-rounded-full tw-bg-current"})],-1),it={class:"tw-min-w-0 tw-text-sm tw-font-semibold tw-leading-6 tw-text-white"},dt={class:"tw-flex tw-gap-x-2"},ct={class:"tw-whitespace-nowrap"},mt={class:"tw-mt-1 tw-flex tw-items-center tw-gap-x-2.5 tw-text-xs tw-leading-5 tw-text-gray-400"},pt={class:"tw-truncate tw-text-primary"},ft=d("svg",{viewbox:"0 0 2 2",class:"tw-h-0.5 tw-w-0.5 tw-flex-none tw-fill-gray-300"},[d("circle",{cx:"1",cy:"1",r:"1"})],-1),wt={key:0,class:"tw-whitespace-nowrap"},vt={class:"rounded-full flex-none py-1 px-2 text-xs font-medium ring-1 ring-inset"},gt=B("\u79FB\u9664"),yt=P({props:{projectId:{type:Number,default:0},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:u}){const a=l,n=I({get:()=>a.modelValue,set:s=>u("update:modelValue",s)}),c=x([]);async function f(){c.value=await tt(a.projectId)}ee(()=>[a.projectId,n.value],async([,s])=>{s&&f(),h()});const m=x({callBackUrl:"",type:"task-result",projectId:a.projectId});function h(){m.value={callBackUrl:"",type:"task-result",createTime:void 0,projectId:a.projectId}}const v=x(!1);async function b(){if(!!m.value){v.value=!0;try{await Ze({projectId:Number(m.value.projectId),callBackUrl:m.value.callBackUrl,type:m.value.type}),h(),await f()}finally{v.value=!1}}}const g=x(),_=x(!1);function r(s){g.value=s,_.value=!0}function k(){g.value=void 0,_.value=!1}async function j(s){v.value=!0;try{await et(s.projectId,s.type),await f()}finally{v.value=!1}}return(s,w)=>(y(),V(L,{modelValue:p(n),"onUpdate:modelValue":w[4]||(w[4]=i=>H(n)?n.value=i:null)},{default:t(()=>{var i;return[e(J,{modelValue:_.value,"onUpdate:modelValue":w[0]||(w[0]=o=>_.value=o),type:"warning",content:`\u786E\u5B9A\u8981\u79FB\u9664 ${(i=g.value)==null?void 0:i.callBackUrl} \u5417\uFF1F`,onConfirm:w[1]||(w[1]=o=>g.value&&j(g.value).then(k))},null,8,["modelValue","content"]),e(Y,{class:"tw-w-full tw-mx-6 lg:tw-w-1/2"},{default:t(()=>[e(E,null,{default:t(()=>[ot]),_:1}),e(A),e(E,{class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-2"},{default:t(()=>[e(T,{modelValue:m.value.callBackUrl,"onUpdate:modelValue":w[2]||(w[2]=o=>m.value.callBackUrl=o),placeholder:"\u8BF7\u8F93\u5165webhook\u5730\u5740",dense:"",outlined:"",class:"tw-grow"},null,8,["modelValue"]),e(ue,{modelValue:m.value.type,"onUpdate:modelValue":w[3]||(w[3]=o=>m.value.type=o),outlined:"",dense:"",class:"tw-w-full md:tw-w-32","emit-value":"","map-options":"",placeholder:"\u8BF7\u9009\u62E9hook\u7C7B\u578B",options:p(me)},null,8,["modelValue","options"]),e(C,{loading:v.value,outline:"","text-color":"primary",onClick:b},{default:t(()=>[at]),_:1},8,["loading"])]),_:1}),e(A),e(E,{style:{"max-height":"40vh",height:"40vh"},class:"scroll"},{default:t(()=>[e(se,{class:"tw-w-full tw-h-full",offset:100},{default:t(()=>[d("ul",st,[(y(!0),$(O,null,G(c.value,o=>(y(),$("li",{key:o.type,class:"tw-relative tw-flex tw-items-center tw-space-x-4 tw-py-2"},[d("div",ut,[d("div",rt,[nt,d("h2",it,[d("a",dt,[d("span",ct,D(o.callBackUrl),1)])])]),d("div",mt,[d("p",pt,D(p(lt)(o.type)),1),ft,o.createTime?(y(),$("p",wt,D(p(re)(o.createTime*1e3,"YYYY-MM-DD HH:mm")),1)):Q("",!0)])]),d("div",vt,[e(C,{type:"primary",unelevated:"",class:"tw-text-red-500",onClick:fe=>r(o)},{default:t(()=>[gt]),_:2},1032,["onClick"])])]))),128))])]),_:1})]),_:1}),e(A),e(K,{align:"right"},{default:t(()=>[U(e(C,{flat:"",label:"\u5173\u95ED",color:"primary"},null,512),[[F]])]),_:1})]),_:1})]}),_:1},8,["modelValue"]))}}),kt=B("\u7F16\u8F91"),xt=B("\u4EBA\u5458\u7BA1\u7406"),ht=B("Webhook"),_t=B("\u9879\u76EEtoken"),bt=B("\u5220\u9664"),Vt=d("div",{class:"text-h6"},"\u9879\u76EE Token",-1),jt=P({props:{projectId:{type:Number,required:!0},role:{type:String,default:""},orgId:{type:String,required:!0}},setup(l){const u=l,a=x(!1),n=W(),c=x(!1),f=x(!1),m=x(!1),h=x(!1),v=x(!1),b=x(!1),g=x(""),_=x(!1);async function r(){_.value=!1,g.value="",v.value=!0,b.value=!0;try{const w=await ke(u.projectId);g.value=w}catch(w){console.error(w),n.commit("error",{error:w})}b.value=!1}function k(){Fe(g.value).then(()=>{n.commit("success",{message:"token\u5DF2\u590D\u5236"})})}const j=x(!1);async function s(){j.value=!0;try{g.value=await xe(u.projectId)}catch(w){console.error(w),n.commit("error",{error:w})}j.value=!1,_.value=!1}return(w,i)=>(y(),$(O,null,[e(ne,{modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=o=>c.value=o),"project-id":u.projectId,"org-id":l.orgId},null,8,["modelValue","project-id","org-id"]),e(ie,{modelValue:f.value,"onUpdate:modelValue":i[1]||(i[1]=o=>f.value=o),"project-id":u.projectId,"org-id":l.orgId},null,8,["modelValue","project-id","org-id"]),e(X,{modelValue:m.value,"onUpdate:modelValue":i[2]||(i[2]=o=>m.value=o),"project-id":u.projectId},null,8,["modelValue","project-id"]),e(yt,{modelValue:h.value,"onUpdate:modelValue":i[3]||(i[3]=o=>h.value=o),"project-id":u.projectId},null,8,["modelValue","project-id"]),e(X),e(je,{modelValue:a.value,"onUpdate:modelValue":i[8]||(i[8]=o=>a.value=o),flat:"","dropdown-icon":"more_horiz","no-icon-animation":""},{default:t(()=>[e(ae,{dense:""},{default:t(()=>[U((y(),V(R,{clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:i[4]||(i[4]=q(o=>f.value=!0,["stop"]))},{default:t(()=>[e(M,null,{default:t(()=>[e(N,null,{default:t(()=>[kt]),_:1})]),_:1})]),_:1})),[[F]]),U((y(),V(R,{clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:i[5]||(i[5]=q(o=>m.value=!0,["stop"]))},{default:t(()=>[e(M,null,{default:t(()=>[e(N,null,{default:t(()=>[xt]),_:1})]),_:1})]),_:1})),[[F]]),U((y(),V(R,{clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:i[6]||(i[6]=q(o=>h.value=!0,["stop"]))},{default:t(()=>[e(M,null,{default:t(()=>[e(N,null,{default:t(()=>[ht]),_:1})]),_:1})]),_:1})),[[F]]),p(Qe)(l.role)?U((y(),V(R,{key:0,clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:q(r,["stop"])},{default:t(()=>[e(M,null,{default:t(()=>[e(N,null,{default:t(()=>[_t]),_:1})]),_:1})]),_:1},8,["onClick"])),[[F]]):Q("",!0),U((y(),V(R,{clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:i[7]||(i[7]=q(o=>c.value=!0,["stop"]))},{default:t(()=>[e(M,null,{default:t(()=>[e(N,null,{default:t(()=>[bt]),_:1})]),_:1})]),_:1})),[[F]])]),_:1})]),_:1},8,["modelValue"]),e(L,{modelValue:v.value,"onUpdate:modelValue":i[11]||(i[11]=o=>v.value=o)},{default:t(()=>[e(Y,{class:"tw-w-[400px] tw-max-w-full"},{default:t(()=>[e(E,null,{default:t(()=>[Vt]),_:1}),e(E,{class:"q-pt-none"},{default:t(()=>[b.value?(y(),V(Ie,{key:0,type:"rect"})):(y(),V(T,{key:1,modelValue:g.value,"onUpdate:modelValue":i[9]||(i[9]=o=>g.value=o),dark:"",borderless:"",readonly:!0},{append:t(()=>[e(z,{name:"file_copy",class:"tw-cursor-pointer",onClick:k})]),_:1},8,["modelValue"]))]),_:1}),e(K,{align:"right"},{default:t(()=>[_.value?Q("",!0):U((y(),V(C,{key:0,flat:"",label:"\u91CD\u7F6E",color:"warning",onClick:i[10]||(i[10]=o=>_.value=!0)},null,512)),[[F]]),_.value?(y(),V(C,{key:1,flat:"",label:"\u6211\u786E\u5B9A\u91CD\u7F6E",color:"red",loading:j.value,onClick:s},null,8,["loading"])):Q("",!0),U(e(C,{flat:"",label:"\u5173\u95ED",color:"primary"},null,512),[[F]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),It={class:"tw-h-full tw-w-full tw-flex tw-flex-col"},Ct={class:"q-pa-md tw-flex tw-justify-around"},$t={key:0,class:"tw-w-full tw-text-center tw-m-auto tw-text-gray-500"},Et=B(" \u6682\u65E0\u6570\u636E "),Bt=P({props:{orgId:{type:String,required:!0}},setup(l){const u=l,a=W(),n=I(()=>a.state.Project.loadingProjects);async function c(){await a.dispatch("Project/fetchProjects",{orgId:u.orgId})}Z(c);const f=x(""),m=I(()=>a.state.Project.projects.filter(r=>r.title.indexOf(f.value)>=0||r.id.toString().indexOf(f.value)>=0));function h(r){return oe().params.projectId===r.id.toString()}const v=x(!1),b=x(!1),g=I(()=>m.value.filter(h).pop()),_=I(()=>a.getters.isAdmin);return(r,k)=>{const j=te("router-link");return y(),$("div",It,[p(g)?(y(),V(ne,{key:0,modelValue:b.value,"onUpdate:modelValue":k[0]||(k[0]=s=>b.value=s),"project-id":p(g).id,"org-id":l.orgId},null,8,["modelValue","project-id","org-id"])):Q("",!0),e(ie,{modelValue:v.value,"onUpdate:modelValue":k[1]||(k[1]=s=>v.value=s),"org-id":l.orgId},null,8,["modelValue","org-id"]),d("div",Ct,[e(T,{modelValue:f.value,"onUpdate:modelValue":k[2]||(k[2]=s=>f.value=s),borderless:"",dense:"",debounce:"300",placeholder:"Search"},{append:t(()=>[e(z,{name:"search"})]),_:1},8,["modelValue"]),e(C,{flat:"",dense:"",loading:p(n),icon:"refresh",onClick:c},null,8,["loading"]),e(C,{flat:"",dense:"",icon:"add",onClick:k[3]||(k[3]=s=>v.value=!0)}),e(C,{flat:"",dense:"",class:"tw-text-red-300 lg:tw-flex tw-hidden",icon:"delete",disable:!p(g),onClick:k[4]||(k[4]=s=>b.value=!0)},null,8,["disable"])]),e(he,{class:"tw-grow tw-px-[15px]",visible:"","thumb-style":p(Ce),"bar-style":p($e)},{default:t(()=>[e(ae,{class:"tw-flex tw-flex-col tw-gap-2 tw-pb-4"},{default:t(()=>[(y(!0),$(O,null,G(p(m),s=>(y(),$("div",{key:s.id,class:le((h(s)?"tw-bg-primary tw-text-black ":"tw-bg-[#27272a] ")+"tw-w-full tw-flex tw-flex-row tw-rounded-md")},[e(j,{class:"tw-grow tw-p-4",to:{name:"project",params:{projectId:s.id}}},{default:t(()=>[B(D(s.title),1)]),_:2},1032,["to"]),p(_)||p(De)(s.role)?(y(),V(jt,{key:0,"project-id":s.id,"org-id":l.orgId,role:s.role},null,8,["project-id","org-id","role"])):Q("",!0)],2))),128))]),_:1}),!p(n)&&(!p(m)||p(m).length===0)?(y(),$("div",$t,[e(z,{name:"outlet",style:{"font-size":"3rem"}}),Et])):Q("",!0)]),_:1},8,["thumb-style","bar-style"])])}}}),Ut={class:"lg:tw-flex lg:tw-flex-row tw-w-full tw-h-full"},Xt=P({props:{orgId:{type:String,required:!0}},setup(l){const u=oe(),a=I(()=>u.name&&u.name.toString()!=="projects"?"tw-hidden lg:tw-block":"");return(n,c)=>{const f=te("router-view");return y(),$("div",Ut,[d("div",{class:le("xl:tw-basis-1/5 tw-basis-1/4 tw-h-full tw-w-full tw-min-w-[280px] "+p(a))},[l.orgId?(y(),V(Bt,{key:0,"org-id":l.orgId},null,8,["org-id"])):Q("",!0)],2),e(f)])}}});export{Xt as default};
