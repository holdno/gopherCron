var J=Object.defineProperty,K=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var j=(e,n,a)=>n in e?J(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,d=(e,n)=>{for(var a in n||(n={}))Y.call(n,a)&&j(e,a,n[a]);if(_)for(var a of _(n))Z.call(n,a)&&j(e,a,n[a]);return e},S=(e,n)=>K(e,X(n));import{a as V,c as w,h as f,b as O,cB as $,r as q,w as m,o as U,y as p,Q as E,g as W,cC as ee,ah as te,a4 as ne,a3 as ae,S as le,cg as oe,af as ie,n as N,cD as R,ai as re}from"./index.a143a9e8.js";import{Q as ue}from"./QChip.ce8ee146.js";import{i as se,A as I,d as M,f as T,g as ce}from"./QDialog.f7eaef00.js";import{c as de}from"./use-key-composition.e38700f1.js";var fe=V({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:n}){const a=w(()=>{const i=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(o=>e[o]===!0).map(o=>`q-btn-group--${o}`).join(" ");return`q-btn-group row no-wrap${i.length!==0?" "+i:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>f("div",{class:a.value},O(n.default))}});const ve=Object.keys($),ge=e=>ve.reduce((n,a)=>{const i=e[a];return i!==void 0&&(n[a]=i),n},{});var Se=V({name:"QBtnDropdown",props:S(d(d({},$),se),{modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String}),emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:n,emit:a}){const{proxy:i}=W(),o=q(e.modelValue),s=q(null),B=de(),v=w(()=>{const t={"aria-expanded":o.value===!0?"true":"false","aria-haspopup":"true","aria-controls":B,"aria-label":e.toggleAriaLabel||i.$q.lang.label[o.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(t["aria-disabled"]="true"),t}),l=w(()=>"q-btn-dropdown__arrow"+(o.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),u=w(()=>ee(e)),P=w(()=>ge(e));m(()=>e.modelValue,t=>{s.value!==null&&s.value[t?"show":"hide"]()}),m(()=>e.split,b);function g(t){o.value=!0,a("beforeShow",t)}function y(t){a("show",t),a("update:modelValue",!0)}function Q(t){o.value=!1,a("beforeHide",t)}function x(t){a("hide",t),a("update:modelValue",!1)}function A(t){a("click",t)}function H(t){te(t),b(),a("click",t)}function L(t){s.value!==null&&s.value.toggle(t)}function D(t){s.value!==null&&s.value.show(t)}function b(t){s.value!==null&&s.value.hide(t)}return Object.assign(i,{show:D,hide:b,toggle:L}),U(()=>{e.modelValue===!0&&D()}),()=>{const t=[f(p,{class:l.value,name:e.dropdownIcon||i.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&t.push(f(ue,{ref:s,id:B,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:g,onShow:y,onBeforeHide:Q,onHide:x},n.default)),e.split===!1?f(E,S(d(d({class:"q-btn-dropdown q-btn-dropdown--simple"},P.value),v.value),{disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:A}),{default:()=>O(n.label,[]).concat(t),loading:n.loading}):f(fe,S(d({class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square},u.value),{glossy:e.glossy,stretch:e.stretch}),()=>[f(E,S(d({class:"q-btn-dropdown--current"},P.value),{disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:H}),{default:n.label,loading:n.loading}),f(E,S(d(d({class:"q-btn-dropdown__arrow-container q-anchor--skip"},v.value),u.value),{disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple}),()=>t)])}}});const{passive:h}=ie;var qe=V({name:"QInfiniteScroll",props:{offset:{type:Number,default:500},debounce:{type:[String,Number],default:100},scrollTarget:{default:void 0},initialIndex:Number,disable:Boolean,reverse:Boolean},emits:["load"],setup(e,{slots:n,emit:a}){const i=q(!1),o=q(!0),s=q(null),B=q(null);let v=e.initialIndex||0,l,u;const P=w(()=>"q-infinite-scroll__loading"+(i.value===!0?"":" invisible"));function g(){if(e.disable===!0||i.value===!0||o.value===!1)return;const r=I(l),c=M(l),C=R(l);e.reverse===!1?Math.round(c+C+e.offset)>=Math.round(r)&&y():Math.round(c)<=e.offset&&y()}function y(){if(e.disable===!0||i.value===!0||o.value===!1)return;v++,i.value=!0;const r=I(l);a("load",v,c=>{o.value===!0&&(i.value=!1,N(()=>{if(e.reverse===!0){const C=I(l),G=M(l),F=C-r;T(l,G+F)}c===!0?A():s.value&&s.value.closest("body")&&u()}))})}function Q(){v=0}function x(){o.value===!1&&(o.value=!0,l.addEventListener("scroll",u,h)),g()}function A(){o.value===!0&&(o.value=!1,i.value=!1,l.removeEventListener("scroll",u,h),u!==void 0&&u.cancel!==void 0&&u.cancel())}function H(){if(l&&o.value===!0&&l.removeEventListener("scroll",u,h),l=ce(s.value,e.scrollTarget),o.value===!0){if(l.addEventListener("scroll",u,h),e.reverse===!0){const r=I(l),c=R(l);T(l,r-c)}g()}}function L(r){v=r}function D(r){r=parseInt(r,10);const c=u;u=r<=0?g:re(g,isNaN(r)===!0?100:r),l&&o.value===!0&&(c!==void 0&&l.removeEventListener("scroll",c,h),l.addEventListener("scroll",u,h))}function b(r){if(t.value===!0){if(B.value===null){r!==!0&&N(()=>{b(!0)});return}const c=`${i.value===!0?"un":""}pauseAnimations`;Array.from(B.value.getElementsByTagName("svg")).forEach(C=>{C[c]()})}}const t=w(()=>e.disable!==!0&&o.value===!0);m([i,t],()=>{b()}),m(()=>e.disable,r=>{r===!0?A():x()}),m(()=>e.reverse,()=>{i.value===!1&&o.value===!0&&g()}),m(()=>e.scrollTarget,H),m(()=>e.debounce,D);let k=!1;ne(()=>{k!==!1&&l&&T(l,k)}),ae(()=>{k=l?M(l):!1}),le(()=>{o.value===!0&&l.removeEventListener("scroll",u,h)}),U(()=>{D(e.debounce),H(),i.value===!1&&b()});const z=W();return Object.assign(z.proxy,{poll:()=>{u!==void 0&&u()},trigger:y,stop:A,reset:Q,resume:x,setIndex:L}),()=>{const r=oe(n.default,[]);return t.value===!0&&r[e.reverse===!1?"push":"unshift"](f("div",{ref:B,class:P.value},O(n.loading))),f("div",{class:"q-infinite-scroll",ref:s},r)}}});export{qe as Q,Se as a};
